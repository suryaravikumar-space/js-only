/**
 * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 * â•‘                                                                              â•‘
 * â•‘         JAVASCRIPT V8 ENGINE - PART 1: THE BIG PICTURE                       â•‘
 * â•‘                                                                              â•‘
 * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 *
 * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 * â•‘  ğŸ¤ 1-2 MINUTE INTERVIEW EXPLANATION                                         â•‘
 * â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
 * â•‘                                                                              â•‘
 * â•‘  "When you run `node file.js`, here's what happens step by step:             â•‘
 * â•‘                                                                              â•‘
 * â•‘  First, Node.js starts up and initializes two key components - the V8       â•‘
 * â•‘  JavaScript engine and libuv for async I/O.                                  â•‘
 * â•‘                                                                              â•‘
 * â•‘  Then your code goes through a PIPELINE:                                     â•‘
 * â•‘                                                                              â•‘
 * â•‘  1. FILE READ: Code is read as a string and wrapped in a function that      â•‘
 * â•‘     provides exports, require, module, __filename, and __dirname.           â•‘
 * â•‘                                                                              â•‘
 * â•‘  2. PARSING: The Lexer tokenizes code into keywords, identifiers,           â•‘
 * â•‘     operators. Then the Parser builds an Abstract Syntax Tree.              â•‘
 * â•‘                                                                              â•‘
 * â•‘  3. COMPILATION: Ignition interpreter converts AST to bytecode for          â•‘
 * â•‘     fast startup. Hot code that runs repeatedly gets optimized by           â•‘
 * â•‘     TurboFan into machine code for maximum speed.                           â•‘
 * â•‘                                                                              â•‘
 * â•‘  4. EXECUTION: Code runs in execution contexts with variable hoisting,      â•‘
 * â•‘     scope chain, and 'this' binding. The call stack tracks function calls.  â•‘
 * â•‘                                                                              â•‘
 * â•‘  5. ASYNC: The event loop processes async callbacks - microtasks like       â•‘
 * â•‘     Promises have higher priority than macrotasks like setTimeout.          â•‘
 * â•‘                                                                              â•‘
 * â•‘  Memory is managed automatically - Stack for primitives, Heap for objects,  â•‘
 * â•‘  with garbage collection cleaning up unreachable objects.                   â•‘
 * â•‘                                                                              â•‘
 * â•‘  This architecture gives JavaScript fast startup AND fast execution for     â•‘
 * â•‘  hot code paths, which is why V8 powers Chrome, Node.js, and Electron."     â•‘
 * â•‘                                                                              â•‘
 * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚ WHAT IS V8?                                                                  â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 *   V8 is Google's open-source JavaScript and WebAssembly engine, written in C++.
 *
 *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *   â”‚ WHERE V8 IS USED                                                        â”‚
 *   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 *   â”‚  â€¢ Google Chrome browser                                                â”‚
 *   â”‚  â€¢ Node.js runtime                                                      â”‚
 *   â”‚  â€¢ Deno runtime                                                         â”‚
 *   â”‚  â€¢ Electron (VS Code, Slack, Discord)                                   â”‚
 *   â”‚  â€¢ MongoDB (for server-side JS)                                         â”‚
 *   â”‚  â€¢ Cloudflare Workers                                                   â”‚
 *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 *
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚ COMPLETE V8 ARCHITECTURE - MIND MAP                                          â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 *
 *                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *                              â”‚  JAVASCRIPT     â”‚
 *                              â”‚  SOURCE CODE    â”‚
 *                              â”‚  "var x = 10;"  â”‚
 *                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *                                       â”‚
 *                                       â–¼
 *   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 *   â•‘                           V8 ENGINE                                        â•‘
 *   â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
 *   â•‘                                                                            â•‘
 *   â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
 *   â•‘   â”‚                        PARSER                                      â”‚   â•‘
 *   â•‘   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚   â•‘
 *   â•‘   â”‚  â”‚    LEXER     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚    PARSER    â”‚                         â”‚   â•‘
 *   â•‘   â”‚  â”‚ (Tokenizer)  â”‚         â”‚ (AST Builder)â”‚                         â”‚   â•‘
 *   â•‘   â”‚  â”‚              â”‚         â”‚              â”‚                         â”‚   â•‘
 *   â•‘   â”‚  â”‚ Sourceâ†’Tokensâ”‚         â”‚ Tokensâ†’AST   â”‚                         â”‚   â•‘
 *   â•‘   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚   â•‘
 *   â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
 *   â•‘                                        â”‚                                   â•‘
 *   â•‘                                        â–¼                                   â•‘
 *   â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
 *   â•‘   â”‚                       IGNITION                                     â”‚   â•‘
 *   â•‘   â”‚                    (Interpreter)                                   â”‚   â•‘
 *   â•‘   â”‚                                                                    â”‚   â•‘
 *   â•‘   â”‚    â€¢ Converts AST to BYTECODE                                      â”‚   â•‘
 *   â•‘   â”‚    â€¢ Executes bytecode immediately                                 â”‚   â•‘
 *   â•‘   â”‚    â€¢ Collects TYPE FEEDBACK (profiling)                            â”‚   â•‘
 *   â•‘   â”‚                                                                    â”‚   â•‘
 *   â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
 *   â•‘                                 â”‚                                          â•‘
 *   â•‘                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â•‘
 *   â•‘                    â”‚                         â”‚                             â•‘
 *   â•‘               COLD CODE                 HOT CODE                           â•‘
 *   â•‘            (runs few times)         (runs many times)                      â•‘
 *   â•‘                    â”‚                         â”‚                             â•‘
 *   â•‘                    â–¼                         â–¼                             â•‘
 *   â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
 *   â•‘   â”‚  Continue with          â”‚   â”‚            TURBOFAN                 â”‚   â•‘
 *   â•‘   â”‚  Bytecode               â”‚   â”‚     (Optimizing Compiler)           â”‚   â•‘
 *   â•‘   â”‚                         â”‚   â”‚                                     â”‚   â•‘
 *   â•‘   â”‚  Most code stays here   â”‚   â”‚  â€¢ Uses type feedback               â”‚   â•‘
 *   â•‘   â”‚                         â”‚   â”‚  â€¢ Generates optimized MACHINE CODE â”‚   â•‘
 *   â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â€¢ Function inlining                â”‚   â•‘
 *   â•‘                                 â”‚  â€¢ Dead code elimination            â”‚   â•‘
 *   â•‘                                 â”‚                                     â”‚   â•‘
 *   â•‘                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
 *   â•‘                                                â”‚                          â•‘
 *   â•‘                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â•‘
 *   â•‘                                    â”‚                       â”‚              â•‘
 *   â•‘                              Assumptions OK           Assumptions WRONG   â•‘
 *   â•‘                                    â”‚                       â”‚              â•‘
 *   â•‘                                    â–¼                       â–¼              â•‘
 *   â•‘                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
 *   â•‘                           â”‚   EXECUTE    â”‚        â”‚  DEOPTIMIZATION   â”‚   â•‘
 *   â•‘                           â”‚   FAST!      â”‚        â”‚  (Bail out to     â”‚   â•‘
 *   â•‘                           â”‚              â”‚        â”‚   bytecode)       â”‚   â•‘
 *   â•‘                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
 *   â•‘                                                                            â•‘
 *   â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
 *   â•‘                          MEMORY MANAGEMENT                                 â•‘
 *   â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
 *   â•‘                                                                            â•‘
 *   â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
 *   â•‘   â”‚      STACK          â”‚              â”‚           HEAP              â”‚    â•‘
 *   â•‘   â”‚                     â”‚              â”‚                             â”‚    â•‘
 *   â•‘   â”‚ â€¢ Primitives        â”‚              â”‚ â€¢ Objects                   â”‚    â•‘
 *   â•‘   â”‚ â€¢ References        â”‚              â”‚ â€¢ Arrays                    â”‚    â•‘
 *   â•‘   â”‚ â€¢ Call Frames       â”‚              â”‚ â€¢ Functions                 â”‚    â•‘
 *   â•‘   â”‚                     â”‚              â”‚ â€¢ Closures                  â”‚    â•‘
 *   â•‘   â”‚ Fast, Fixed Size    â”‚              â”‚                             â”‚    â•‘
 *   â•‘   â”‚ Auto cleanup        â”‚              â”‚ Garbage Collected           â”‚    â•‘
 *   â•‘   â”‚                     â”‚              â”‚                             â”‚    â•‘
 *   â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â•‘
 *   â•‘                                        â”‚  â”‚    GARBAGE COLLECTOR  â”‚  â”‚    â•‘
 *   â•‘                                        â”‚  â”‚  â€¢ Scavenger (Young)   â”‚  â”‚    â•‘
 *   â•‘                                        â”‚  â”‚  â€¢ Mark-Sweep (Old)    â”‚  â”‚    â•‘
 *   â•‘                                        â”‚  â”‚  â€¢ Mark-Compact        â”‚  â”‚    â•‘
 *   â•‘                                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â•‘
 *   â•‘                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
 *   â•‘                                                                            â•‘
 *   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 *
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚ THE JOURNEY: What happens when you run "node file.js"                        â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 *
 *   STEP 1                    STEP 2                    STEP 3
 *   â•â•â•â•â•â•                    â•â•â•â•â•â•                    â•â•â•â•â•â•
 *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *   â”‚  NODE    â”‚              â”‚  READ    â”‚              â”‚  WRAP    â”‚
 *   â”‚  STARTS  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  FILE    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  CODE    â”‚
 *   â”‚          â”‚              â”‚          â”‚              â”‚          â”‚
 *   â”‚Initializeâ”‚              â”‚ Read as  â”‚              â”‚ Wrap in  â”‚
 *   â”‚V8 + libuvâ”‚              â”‚ string   â”‚              â”‚ function â”‚
 *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *                                                              â”‚
 *                                                              â–¼
 *   Your code:                                    (function(exports, require,
 *   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    module, __filename, __dirname) {
 *   var x = 10;                                      var x = 10;
 *   console.log(x);                                  console.log(x);
 *                                                  });
 *
 *
 *   STEP 4                    STEP 5                    STEP 6
 *   â•â•â•â•â•â•                    â•â•â•â•â•â•                    â•â•â•â•â•â•
 *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *   â”‚ TOKENIZE â”‚              â”‚  PARSE   â”‚              â”‚ COMPILE  â”‚
 *   â”‚          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚          â”‚
 *   â”‚          â”‚              â”‚          â”‚              â”‚          â”‚
 *   â”‚Source â†’  â”‚              â”‚Tokens â†’  â”‚              â”‚AST â†’     â”‚
 *   â”‚Tokens    â”‚              â”‚AST       â”‚              â”‚Bytecode  â”‚
 *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 *   Tokens:                   AST:                     Bytecode:
 *   â”€â”€â”€â”€â”€â”€â”€â”€                  â”€â”€â”€â”€                     â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *   [var][x][=][10][;]        Program                  LdaSmi [10]
 *                             â””â”€VariableDeclaration    Star r0
 *                               â””â”€VariableDeclarator   LdaGlobal [console]
 *                                 â”œâ”€Identifier: x      ...
 *                                 â””â”€Literal: 10
 *
 *
 *   STEP 7                    STEP 8                    STEP 9
 *   â•â•â•â•â•â•                    â•â•â•â•â•â•                    â•â•â•â•â•â•
 *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *   â”‚ EXECUTE  â”‚              â”‚  EVENT   â”‚              â”‚  EXIT    â”‚
 *   â”‚          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  LOOP    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚          â”‚
 *   â”‚          â”‚              â”‚          â”‚              â”‚          â”‚
 *   â”‚Run code  â”‚              â”‚Process   â”‚              â”‚Cleanup   â”‚
 *   â”‚line by   â”‚              â”‚async     â”‚              â”‚GC, exit  â”‚
 *   â”‚line      â”‚              â”‚callbacks â”‚              â”‚process   â”‚
 *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 *
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚ V8 COMPONENTS TABLE                                                          â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *   â”‚ COMPONENT       â”‚ PURPOSE                                                â”‚
 *   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 *   â”‚ Lexer/Scanner   â”‚ Converts source code string into tokens               â”‚
 *   â”‚ Parser          â”‚ Converts tokens into Abstract Syntax Tree (AST)       â”‚
 *   â”‚ Ignition        â”‚ Interpreter - compiles AST to bytecode, executes it   â”‚
 *   â”‚ TurboFan        â”‚ Optimizing compiler - compiles hot code to machine codeâ”‚
 *   â”‚ Orinoco         â”‚ Garbage collector (Scavenger, Mark-Sweep, Mark-Compact)â”‚
 *   â”‚ Liftoff         â”‚ WebAssembly baseline compiler                          â”‚
 *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 *
 * RUN: node javaScript-v8-architecture-flow/01-big-picture.js
 */

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//                         EXECUTABLE EXAMPLE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log('â•'.repeat(70));
console.log('       PART 1: THE BIG PICTURE - V8 ARCHITECTURE');
console.log('â•'.repeat(70));

// PROOF: Node.js wraps your code in a function
console.log('\n1. PROOF OF CODE WRAPPING:');
console.log('â”€'.repeat(40));
console.log('   typeof exports:', typeof exports);
console.log('   typeof require:', typeof require);
console.log('   typeof module:', typeof module);
console.log('   typeof __filename:', typeof __filename);
console.log('   typeof __dirname:', typeof __dirname);
console.log('   arguments.length:', arguments.length, '(5 args from wrapper!)');

// Show the actual wrapper
console.log('\n2. THE ACTUAL WRAPPER CODE:');
console.log('â”€'.repeat(40));
console.log(require('module').wrapper);

// Show current file info
console.log('\n3. CURRENT FILE INFO:');
console.log('â”€'.repeat(40));
console.log('   __filename:', __filename);
console.log('   __dirname:', __dirname);

console.log('\n' + 'â•'.repeat(70));
console.log('       Read the comments above for the complete architecture!');
console.log('â•'.repeat(70) + '\n');
