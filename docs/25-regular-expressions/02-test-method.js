/**
 * REGULAR EXPRESSIONS: 02 - The test() Method
 *
 * ONE CONCEPT: Using regex.test() to check if pattern exists
 */


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// THE test() METHOD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/**
 * regex.test(string)
 *
 * Returns: true or false
 *
 * Question it answers: "Does this string contain the pattern?"
 *
 */


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HOW THE ENGINE SEES IT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/**
 *   /cat/.test("I have a cat")
 *
 *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *   â”‚  ENGINE EXECUTION                                                    â”‚
 *   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 *   â”‚                                                                      â”‚
 *   â”‚  Input:  "I have a cat"                                              â”‚
 *   â”‚  Pattern: /cat/                                                      â”‚
 *   â”‚                                                                      â”‚
 *   â”‚  Step 1: Start at position 0 ("I")                                   â”‚
 *   â”‚          Try matching 'c' â†’ 'I' â‰  'c' â†’ FAIL                         â”‚
 *   â”‚          Move to next position                                       â”‚
 *   â”‚                                                                      â”‚
 *   â”‚  Step 2: Position 1 (" ")                                            â”‚
 *   â”‚          Try matching 'c' â†’ ' ' â‰  'c' â†’ FAIL                         â”‚
 *   â”‚          Move to next position                                       â”‚
 *   â”‚                                                                      â”‚
 *   â”‚  ... continues until ...                                             â”‚
 *   â”‚                                                                      â”‚
 *   â”‚  Step 10: Position 9 ("c")                                           â”‚
 *   â”‚          Try matching 'c' â†’ 'c' = 'c' â†’ OK                           â”‚
 *   â”‚          Try matching 'a' â†’ 'a' = 'a' â†’ OK                           â”‚
 *   â”‚          Try matching 't' â†’ 't' = 't' â†’ OK                           â”‚
 *   â”‚                                                                      â”‚
 *   â”‚  âœ“ MATCH FOUND â†’ return true                                         â”‚
 *   â”‚                                                                      â”‚
 *   â”‚  (Engine stops immediately after first match)                        â”‚
 *   â”‚                                                                      â”‚
 *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 */


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BASIC USAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const hasNumber = /\d/;  // \d = any digit

console.log('--- Basic test() ---');
console.log('/\\d/.test("abc123"):', hasNumber.test("abc123"));  // true
console.log('/\\d/.test("abcdef"):', hasNumber.test("abcdef"));  // false


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PRACTICAL EXAMPLE: VALIDATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function validatePassword(password) {
  const hasUppercase = /[A-Z]/.test(password);
  const hasLowercase = /[a-z]/.test(password);
  const hasNumber = /\d/.test(password);
  const hasMinLength = password.length >= 8;

  return {
    valid: hasUppercase && hasLowercase && hasNumber && hasMinLength,
    checks: { hasUppercase, hasLowercase, hasNumber, hasMinLength }
  };
}

console.log('\n--- Password Validation ---');
console.log('Password "abc":', validatePassword('abc'));
console.log('Password "Abc12345":', validatePassword('Abc12345'));


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// âš ï¸ GOTCHA: test() with 'g' flag
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/**
 * WARNING: test() with global flag (g) updates lastIndex!
 *
 * This can cause unexpected behavior when testing same string multiple times.
 */

const globalRegex = /a/g;  // Global flag

console.log('\n--- GOTCHA: Global flag ---');
console.log('Test 1:', globalRegex.test("abc"));  // true, lastIndex = 1
console.log('lastIndex:', globalRegex.lastIndex);

console.log('Test 2:', globalRegex.test("abc"));  // false! lastIndex = 0
console.log('lastIndex:', globalRegex.lastIndex);

console.log('Test 3:', globalRegex.test("abc"));  // true again!

/**
 * WHY THIS HAPPENS:
 *
 *   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 *   â”‚  With 'g' flag, regex remembers where it stopped          â”‚
 *   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 *   â”‚                                                            â”‚
 *   â”‚  Test 1: Starts at 0, finds 'a' at 0, lastIndex â†’ 1        â”‚
 *   â”‚  Test 2: Starts at 1, no 'a' after position 1 â†’ false      â”‚
 *   â”‚          lastIndex resets â†’ 0                              â”‚
 *   â”‚  Test 3: Starts at 0 again, finds 'a' â†’ true               â”‚
 *   â”‚                                                            â”‚
 *   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 * SOLUTION: Don't use 'g' flag with test() for repeated validation
 */

const safeRegex = /a/;  // No 'g' flag
console.log('\n--- Safe (no global flag) ---');
console.log('Test 1:', safeRegex.test("abc"));  // true
console.log('Test 2:', safeRegex.test("abc"));  // true (consistent!)


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ¤ INTERVIEW: What to Say (1-2 minutes)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/**
 * QUESTION: "How does the test() method work?"
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *
 * YOUR ANSWER:
 *
 * "The test() method is the simplest regex method. You call it on a
 * regex and pass a string, and it returns true if the pattern exists
 * anywhere in the string, false otherwise.
 *
 * Under the hood, the engine starts at position 0 and tries to match
 * the pattern. If it fails, it moves to position 1 and tries again,
 * continuing through the string. As soon as it finds one match, it
 * returns true immediately - it doesn't keep searching.
 *
 * One important gotcha: if you use the global flag 'g' with test(),
 * the regex remembers its lastIndex position between calls. This can
 * cause test() to return different results for the same string on
 * consecutive calls. For simple validation, I avoid the global flag
 * with test() to keep behavior consistent.
 *
 * I typically use test() for validation - checking if an email has
 * an @ symbol, if a password contains a number, things like that."
 *
 * â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *
 * KEY POINTS TO MENTION:
 * âœ“ Returns true/false
 * âœ“ Checks if pattern exists anywhere in string
 * âœ“ Stops at first match (efficient)
 * âœ“ Gotcha: 'g' flag updates lastIndex between calls
 *
 */


// RUN: node docs/25-regular-expressions/02-test-method.js
